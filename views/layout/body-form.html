<a href="/"><img src="images/paint.png" id="home"></a>
<h2>
  <%= title %>
</h2>
<!-- 하기 list 선택시 하위에 포함된 todolist 목록 읽어오기 -->
<form class="selector" onsubmit="return todoListAdd(this)">
  <section class="category">
    <a href="/daily">Daily</a>
    <a href="/weekly">Weekly</a>
    <a href="/monthly">Monthly</a>
    <a href="/yearly">Yearly</a>
    <a href="/bucketlist">Bucket list</a>
  </section>

  <!-- create 시에 mode / specfic list 값을 lists 의 form 으로 함께 전송 -->
  <fieldset class="chart">

    <p>
      <input type="text" id="title" name="title" placeholder="add your plan..">
      <button type="submit" id="add">add</button>
    </p>

    <input type="radio" name="type" class="choice" value="daily" id="choice-1">
    <label for="daily">D</label>
    <input type="radio" name="type" class="choice" value="weekly" id="choice-2">
    <label for="weekly">W</label>
    <input type="radio" name="type" class="choice" value="monthly" id="choice-3">
    <label for="monthly">M</label>
    <input type="radio" name="type" class="choice" value="yearly" id="choice-4">
    <label for="yearly">Y</label>
    <input type="radio" name="type" class="choice" value="bucketlist" id="choice-5">
    <label for="bucketlist">Bucket</label>
  </fieldset>
</form>

<script>
  function todoListAdd(form) {
    
    const radioChecked = document.querySelector('input[type="radio"]:checked')

    if(!radioChecked) return false;

    const type = radioChecked.value
    const title = document.querySelector('#title').value

    if(!type || !title) return false

    const url = `/${type}`

    form.action = url
    form.method = 'POST'

  }
</script>