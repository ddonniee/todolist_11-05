<!DOCTYPE html>
<html lang="en">

<!-- layout에 있는 form 불러오기 by은정 21.10.15 -->
<%-include('layout/head.html')%>

	<body>
		<%-include('layout/body-form.html')%>

		<ul class="todo-list">
			<% for(let i = 0; i < list.length; i++) {%>
				<!-- page에 따라 값이 바뀌는 id부분 ejs로 받아오기 by은정 21.10.28-->
				<li class="todo-item">
					<input type="text" id="input-<%= list[i].id %>" value="<%= list[i].title %>">
					<button onclick="YearlyTodoUpdate('<%= list[i].id %>')" class="submit">update</button>
					<button onclick="YearlyTodoDelete('<%= list[i].id %>')" class="submit">delete</button>
				</li>
			<% } %>
		</ul>
	
		<script src="javascripts/util.js"></script>
	
		<script>
			function YearlyTodoUpdate(id) {
	
				const foundInput = document.querySelector(`#input-${id}`)
	
				if(!foundInput) return
	
				const title = foundInput.value
	
				todoUpdate('yearly', id, title)
	
			}
	
			function YearlyTodoDelete(id) {
				todoDelete('yearly', id)
			}
	
		</script>
	</body>

</html>